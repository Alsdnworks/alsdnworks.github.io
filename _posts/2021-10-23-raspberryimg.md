---
title: 라즈베리파이 슬라이드쇼 만들기
categories:
  - linux
toc: true
---

# 라즈베리파이 슬라이드쇼 만들기

연구실 앞에 모니터를 설치하고 디지털액자와 같은 슬라이드 쇼를 켜두기로 했다.

브라켓이랑 모니터가 배송오는동안 굴러다니는 라즈베리파이를 간단한 사진재생기로 만들기로 했다.

다른 기능은 사용하지 않고 USB메모리 내의 사진을 랜덤 재생하기에 다른 프로그램은 설치하지 않고 feh를 설치했다.

화면보호기를 쓰면 되는것이 아니냐고 물어본다면 리눅스 터미널을 쓰지 않고 GUI로 작업할때 다른 연구원분들은 내가 노는걸로 보일테니 그렇게 한거다.

> sudo apt-get install feh #이미지뷰어 설치

> sudo xset s off -dpms #화면호보기와 화면꺼짐 해제

다음 명령어를 `.bashrc`에 등록해두었다. 터미널이 실행되면 슬라이드쇼가 자동 실행될것이다.

> sudo vi home/pi/.bashrc

> feh  –p –q –F –Z –Y –R 60 –D 10.0 /(USB경로)

feh에 대한 자세한 설명은 다음 링크에서 확인 가능하다 http://manpages.ubuntu.com/manpages/artful/man1/feh.1.html

단 gui부팅시 터미널을 실행시 작동되기에 부팅시에 터미널을 오픈하는 스크립트를 추가적으로 작성해줘야했다.<br>
이 부분은 파이 `autostart` 에 `@lxterminal` 을 등록해주는것으로 적용했다. 

`sudo vi /etc/xdg/lxsession/LXDE-pi/`

![rasp1](/assets/img/rasp.gif) 

문제해결:

**1. .bashrc에서 gui환경이 USB를 마운트하기전에 실행해 경로오류가 발생한다.** 

`.bashrc`에 `sudo mount /dev/USB이름 /마운트할위치`로 슬라이드쇼 실행전에 미리 마운트 해준다. USB이름은 df명령어를 통해 확인가능하다.

**2. 사진 크기가 엉망으로 나온다**

이는 feh zoom옵션의 한계이다. 리눅스에서도 사진 크기를 조정은 가능하나 어차피 USB내 자료를 사용하니 포토샵으로 모니터 세로 픽셀에 맞게 크기를 조정해두면 된다. 특히 이 모니터가 1600x1200을 강제로 늘려서 1920x1080처럼 보이게 하는 이상한 놈이라 종횡비를 강제로 변경해줘야 했다. 